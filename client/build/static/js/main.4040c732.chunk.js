(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),a=n(14),r=n.n(a),i=(n(20),n(5)),s=n.n(i),u=n(15),l=n(3),p=(n(22),n(0));function h(e){var t=e.getTypesList,n=e.prop,c=e.type;return Object(p.jsxs)("li",{children:[n,":",c.map((function(e,n){return Object(p.jsx)("span",{onClick:function(e){return t(e)},children:e},n)}))]})}function m(e){var t=e.prop,n=e.value,c=e.getTypesList;return Object(p.jsx)(p.Fragment,{children:"types"===t?Object(p.jsx)(h,{getTypesList:c,prop:t,type:n}):Object(p.jsxs)("li",{children:[t,": ",n]})})}function f(e){var t=e.getTypesList,n=e.pokemon,c=e.toggleCatchRelease;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"displayPokemon",children:[Object(p.jsx)("ul",{className:"properties",children:function(e){var n=[];for(var c in e)"caught"!==c&&"img"!==c&&n.push(Object(p.jsx)(m,{prop:c,value:e[c],getTypesList:t},c));return n}(n)}),n.img.front_default&&Object(p.jsx)("img",{className:"img",src:n.img.front_default,onMouseOver:function(e){return e.currentTarget.src=n.img.back_default},onMouseOut:function(e){return e.currentTarget.src=n.img.front_default}}),n.name?n.caught?Object(p.jsx)("button",{className:"btn",id:"catchRelease",onClick:c,children:"Release"}):Object(p.jsx)("button",{className:"btn",id:"catchRelease",onClick:c,children:"Catch"}):null]})})}function j(e){var t=e.search,n=e.value,c=e.searchPokemon,o=e.showCollection,a=e.showEveryPokemon;return Object(p.jsxs)("div",{className:"SearchArea",children:[Object(p.jsx)("input",{className:"input",onChange:t,value:n,required:!0}),Object(p.jsx)("button",{className:"btn",onClick:function(e){return c(e)},children:"Search Pokemon"}),Object(p.jsx)("button",{className:"btn",onClick:o,children:"Show Collection"}),Object(p.jsx)("button",{className:"btn",onClick:a,children:"Show All Pokemon"})]})}function g(e){var t=e.pokemon,n=e.showPokemon;return Object(p.jsxs)("li",{className:"pokemonLi",children:[t.img&&Object(p.jsx)("img",{className:"img",src:t.img}),Object(p.jsx)("div",{onClick:function(e){return n(e)},children:t.name}),t.caught?Object(p.jsx)("div",{className:"caught",children:"caught"}):Object(p.jsx)("div",{className:"free"})]})}function b(e){var t=e.info,n=e.showPokemon,c=e.showAnotherPage;return Object(p.jsx)("div",{className:"infoDisplay",children:0!==t.results.length&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"btn",onClick:function(){c(t.prev)},children:"prev page"}),Object(p.jsx)("ul",{className:"pokemonList",children:t.results.map((function(e,t){return Object(p.jsx)(g,{pokemon:e,showPokemon:n},t)}))}),Object(p.jsx)("button",{className:"btn",onClick:function(){c(t.next)},children:"next page"})]})})}var d=n(24).default;function x(e,t){var n=e.results.map((function(e){return e.name})),c=t.results.map((function(e){return e.name}));return JSON.stringify(n)===JSON.stringify(c)}var O=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1],Object(c.useState)("")),o=Object(l.a)(n,2),a=o[0],r=o[1],i=Object(c.useState)({id:"",name:"",height:"",weight:"",types:[],caught:!1,img:""}),h=Object(l.a)(i,2),m=h[0],g=h[1],O=Object(c.useState)({next:null,prev:null,results:[]}),k=Object(l.a)(O,2),v=k[0],N=k[1],y=Object(c.useState)({error:!1,input:"",pokemon:{id:"",name:"",height:"",weight:"",types:[],caught:!1,img:""},info:{next:null,prev:null,results:[]}}),C=Object(l.a)(y,2),w=C[0],S=C[1];function P(){return(P=Object(u.a)(s.a.mark((function e(){var t,n,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get("/api/collection");case 3:if(t=e.sent,!m.caught){e.next=10;break}return e.next=7,d.delete("/api/collection/release/".concat(m.name));case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,d.post("/api/collection/catch",{name:m.name});case 12:e.t0=e.sent;case 13:if(n=e.t0,c=n.data,m.caught=!m.caught,!x(v,t.data)){e.next=20;break}return N(c),T(c),e.abrupt("return");case 20:o=v.results.map((function(e){return e.name===m.name&&(e.caught=m.caught),e})),N(JSON.parse(JSON.stringify({next:v.next,prev:v.prev,results:o}))),g(JSON.parse(JSON.stringify(m))),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(0),S({error:!0,input:w.input,pokemon:w.pokemon,info:w.info});case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}function T(e){e.results.map((function(t){d.get("/api/pokemon/".concat(t.name)).then((function(n){var c=n.data.img.front_default;t.img=c;var o={next:e.next,prev:e.prev,results:e.results};N(o)})).catch((function(){console.log("Some of the pokemon images couldn't load")}))}))}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"header",children:"Pokedex"}),Object(p.jsx)(j,{search:function(e){r(e.target.value)},showCollection:function(){d.get("/api/collection").then((function(e){var t=e.data;N(t),T(t)})).catch((function(){S({error:!0,input:w.input,pokemon:w.pokemon,info:w.info})}))},searchPokemon:function(){var e=a.toLowerCase();""!==e&&d.get("/api/pokemon/".concat(e)).then((function(e){var t=e.data;g(t)})).catch((function(){S({error:!0,input:w.input,pokemon:w.pokemon,info:w.info})}))},showEveryPokemon:function(){d.get("/api/pokemon").then((function(e){var t=e.data;N(t),T(t)})).catch((function(){S({error:!0,input:w.input,pokemon:w.pokemon,info:w.info})}))}}),w.error?Object(p.jsxs)("div",{className:"error",children:[Object(p.jsx)("img",{className:"errorimg",src:"./sad_pikachu.gif"}),Object(p.jsx)("h2",{children:"Pikachu not Found"})]}):Object(p.jsx)(f,{toggleCatchRelease:function(){return P.apply(this,arguments)},pokemon:m,getTypesList:function(e){var t=e.target.innerText;d.get("/api/type/".concat(t)).then((function(e){var t=e.data;N(t),T(t)})).catch((function(){S({error:!0,input:w.input,pokemon:w.pokemon,info:w.info})}))}}),0!==w.info.length&&Object(p.jsx)(b,{info:v,showPokemon:function(e){var t=e.target.innerText;d.get("/api/pokemon/".concat(t)).then((function(e){var t=e.data;g(t)}))},showAnotherPage:function(e){e&&d.get("/api/pokemon/".concat(e)).then((function(e){var t=e.data;N(t),T(t)})).catch((function(){S({error:!0,input:w.input,pokemon:w.pokemon,info:w.info})}))}})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),a(e),r(e)}))};r.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(O,{})}),document.getElementById("root")),k()}},[[43,1,2]]]);
//# sourceMappingURL=main.4040c732.chunk.js.map